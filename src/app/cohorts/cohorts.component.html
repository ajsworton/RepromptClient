
<div class="panel-container">
    <div class="file-container" *ngIf="!loading">
        <div class="file-item middle">
            <md-icon class="mr-2 pointer" (click)="navigateBack()" alt="Back">keyboard_backspace</md-icon>
            <span class="spacer"></span> 
            <md-icon (click)="toggleUpdate()" class="mr-2 pointer" *ngIf="path != '/'" alt="Edit">edit</md-icon>
            <md-icon class="pointer" (click)="confirmDelete(currentParent)" *ngIf="path != '/'" alt="Delete">delete</md-icon>
        </div>
        <div class="file-item" >
            <md-icon class="pointer" (click)='resetNavigation()'>keyboard_arrow_right</md-icon> {{ path }}            
            <span class="spacer"></span >   
            <md-icon (click)="populate()" class="pointer mr-2" alt="Populate" *ngIf="path != '/'">person_add</md-icon>             
            <md-icon (click)="toggleSave()" class="pointer" alt="New">create_new_folder</md-icon>
        </div>

        <form *ngIf="saving || updating" class="material-form" #createCohortForm="ngForm">
        <div class="row">  
            <div class="col-9">   
                <md-input-container class="full-width">
                    <input mdInput name="name" [(ngModel)]="name" type="text" placeholder="Cohort name" required>
                    <md-error>Name is required</md-error>
                </md-input-container>
            </div>
            <div class="col-3"> 
                <span class="spacer"></span >
                <button md-raised-button class="mt-2" color="accent" type="button" (click)="submitData()" [disabled]="!createCohortForm.valid">{{ editText }}</button> 
            </div>
        </div>       
        <br>
        <div [hidden]="!error" class="alert alert-danger mt-5">{{ errorMessage }}</div>
    </form>
        <div class="file-item pointer middle" *ngFor="let cohort of displayCohortData" (click)="navigate(cohort)">
            <md-icon class="mr-2" >folder</md-icon>  {{ cohort.name }}
        </div>
    </div>
</div>


<md-spinner class="dead-center" *ngIf="loading"></md-spinner>